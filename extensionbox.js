var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(a){return a.raw=a};$jscomp.createTemplateTagFirstArgWithRaw=function(a,b){a.raw=b;return a};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};
var changeColor=document.getElementById("changeColor"),check=document.getElementById("edicratic-check"),invalidMessage=document.getElementById("edicratic-invalid"),icon=document.getElementById("info-icon-edicratic"),checkBox=document.getElementById("enable-quick-look-up"),bugReport=document.getElementById("edicratic-bug-report"),buttonIcon=document.getElementById("changeColor-icon"),loader=document.getElementById("loader");"true"===localStorage.isLoadedEdicratic&&(changeColor.style.display="none");
chrome.storage.local.get(["authStatus"],function(a){chrome.runtime.lastError||null===a.authStatus||void 0===a.authStatus||"Logged Out"===a.authStatus?chrome.runtime.sendMessage({input:"/auth-status",params:{method:"GET"},message:"callWebCheckAPI"},function(a){a=$jscomp.makeIterator(a);var b=a.next().value;a.next();null===b?setButtonLogin(changeColor,buttonIcon):setButtonNormal(changeColor,buttonIcon)}):"Authenticated"===a.authStatus&&setButtonNormal(changeColor,buttonIcon)});
function setButtonLogin(a,b){a.style.backgroundColor="#3958ae";b.style.display="none";document.getElementById("webcheck-text").innerText="Login To Webcheck";a.onclick=function(){return chrome.runtime.sendMessage({message:"runOAuthFlow"})}}function setButtonNormal(a,b){a.style.backgroundColor="";document.getElementById("webcheck-text").textContent="WebCheck This";b.style.display="inline";a.onclick=function(){return performWebCheck()}}updateBox(checkBox);checkBox.onclick=function(){return handleCheckBoxClick()};
bugReport.onclick=handleBugReport;icon.addEventListener("mouseover",function(a){document.getElementById("myPopup").classList.toggle("show")});var isValid=localStorage.validEdicratic;"true"===isValid?invalidMessage.style.display="none":changeColor.style.display="none";function handleCheckBoxClick(){chrome.storage.local.get(["highlight-enabled"],function(a){chrome.storage.local.set({"highlight-enabled":!a["highlight-enabled"]})})}
function updateBox(a){chrome.storage.local.get(["highlight-enabled"],function(b){a.checked=!!b["highlight-enabled"]})}function performWebCheck(){chrome.tabs.query({currentWindow:!0,active:!0},function(a){chrome.tabs.executeScript(a[0].id,{code:"chrome.runtime.sendMessage({data: 'webCheckLoadScript', loaded: typeof scriptAlreadyLoaded === \"undefined\" ? false : scriptAlreadyLoaded});"});changeColor.style.display="none";loader.style.display=""})}
function handleBugReport(){request={message:"bugReport"};chrome.tabs.query({currentWindow:!0,active:!0},function(a){var b=a[0];chrome.tabs.insertCSS(b.id,{file:"bugReport.css"});chrome.tabs.executeScript(b.id,{file:"bugReport.js"},function(){chrome.tabs.sendMessage(b.id,request)})})};
